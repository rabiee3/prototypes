<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Enlit Prototypes</title>
    <!-- PWA Meta -->
    <meta name="mobile-web-app-capable" content="yes" />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent"
    />
    <link rel="manifest" href="manifest.json" />
    <meta name="theme-color" content="#000000" />
    <script>
      if ("serviceWorker" in navigator) {
        window.addEventListener("load", () => {
          navigator.serviceWorker
            .register("/service-worker.js")
            .then(() => console.log("Service worker registered"))
            .catch((err) => console.error("Service worker failed:", err));
        });
      }
    </script>
  </head>
  <body>
    Prototypes

    <a href="/sledKom-prototype/" title="SledKom">SledKom</a>

    <button id="installBtn" style="display:none;">Install App</button>

    <script>
      let deferredPrompt;
      const installBtn = document.getElementById("installBtn");

      window.addEventListener("beforeinstallprompt", (e) => {
        e.preventDefault();
        deferredPrompt = e;
        installBtn.style.display = "block";

        installBtn.addEventListener("click", async () => {
          installBtn.style.display = "none";
          deferredPrompt.prompt();
          const choice = await deferredPrompt.userChoice;
          console.log("User choice:", choice.outcome);
          deferredPrompt = null;
        });
      });
    </script>
  </body>
</html>
